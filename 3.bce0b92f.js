(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{695:function(e,t){e.exports=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}},696:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(10),l=a(13),i=a(31),s=a(2),c=a(0),u=a.n(c),d=a(14),p=a.n(d),f=a(4),m={children:u.a.node,inline:u.a.bool,tag:f.i,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(s.a)(Object(s.a)(a))),a.submit=a.submit.bind(Object(s.a)(Object(s.a)(a))),a}Object(i.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.inline,i=e.tag,s=e.innerRef,c=Object(l.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(f.f)(p()(t,!!n&&"form-inline"),a);return r.a.createElement(i,Object(o.a)({},c,{ref:s,className:u}))},t}(n.Component);b.propTypes=m,b.defaultProps={tag:"form"};var h=b,g={children:u.a.node,row:u.a.bool,check:u.a.bool,inline:u.a.bool,disabled:u.a.bool,tag:f.i,className:u.a.string,cssModule:u.a.object},v=function(e){var t=e.className,a=e.cssModule,n=e.row,i=e.disabled,s=e.check,c=e.inline,u=e.tag,d=Object(l.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),m=Object(f.f)(p()(t,!!n&&"row",s?"form-check":"form-group",!(!s||!c)&&"form-check-inline",!(!s||!i)&&"disabled"),a);return r.a.createElement(u,Object(o.a)({},d,{className:m}))};v.propTypes=g,v.defaultProps={tag:"div"};var j=v,y=a(695),O=a.n(y),E=u.a.oneOfType([u.a.number,u.a.string]),N=u.a.oneOfType([u.a.string,u.a.number,u.a.shape({size:E,push:Object(f.d)(E,'Please use the prop "order"'),pull:Object(f.d)(E,'Please use the prop "order"'),order:E,offset:E})]),w={children:u.a.node,hidden:u.a.bool,check:u.a.bool,size:u.a.string,for:u.a.string,tag:f.i,className:u.a.string,cssModule:u.a.object,xs:N,sm:N,md:N,lg:N,xl:N,widths:u.a.array},x={tag:"label",widths:["xs","sm","md","lg","xl"]},C=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},R=function(e){var t=e.className,a=e.cssModule,n=e.hidden,i=e.widths,s=e.tag,c=e.check,u=e.size,d=e.for,m=Object(l.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),b=[];i.forEach(function(t,n){var r=e[t];if(delete m[t],r||""===r){var o,l=!n;if(O()(r)){var i,s=l?"-":"-"+t+"-";o=C(l,t,r.size),b.push(Object(f.f)(p()(((i={})[o]=r.size||""===r.size,i["order"+s+r.order]=r.order||0===r.order,i["offset"+s+r.offset]=r.offset||0===r.offset,i))),a)}else o=C(l,t,r),b.push(o)}});var h=Object(f.f)(p()(t,!!n&&"sr-only",!!c&&"form-check-label",!!u&&"col-form-label-"+u,b,!!b.length&&"col-form-label"),a);return r.a.createElement(s,Object(o.a)({htmlFor:d},m,{className:h}))};R.propTypes=w,R.defaultProps=x;var z=R,k={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,state:Object(f.d)(u.a.string,'Please use the props "valid" and "invalid" to indicate the state.'),valid:u.a.bool,invalid:u.a.bool,tag:f.i,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),static:Object(f.d)(u.a.bool,'Please use the prop "plaintext"'),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},S=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(s.a)(Object(s.a)(a))),a.focus=a.focus.bind(Object(s.a)(Object(s.a)(a))),a}Object(i.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.type,i=e.bsSize,s=e.state,c=e.valid,u=e.invalid,d=e.tag,m=e.addon,b=e.static,h=e.plaintext,g=e.innerRef,v=Object(l.a)(e,["className","cssModule","type","bsSize","state","valid","invalid","tag","addon","static","plaintext","innerRef"]),j=["radio","checkbox"].indexOf(n)>-1,y=new RegExp("\\D","g"),O=d||("select"===n||"textarea"===n?n:"input"),E="form-control";h||b?(E+="-plaintext",O=d||"input"):"file"===n?E+="-file":j&&(E=m?null:"form-check-input"),s&&void 0===c&&void 0===u&&("danger"===s?u=!0:"success"===s&&(c=!0)),v.size&&y.test(v.size)&&(Object(f.j)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=v.size,delete v.size);var N=Object(f.f)(p()(t,u&&"is-invalid",c&&"is-valid",!!i&&"form-control-"+i,E),a);return("input"===O||d&&"function"==typeof d)&&(v.type=n),!v.children||h||b||"select"===n||"string"!=typeof O||"select"===O||(Object(f.j)('Input with a type of "'+n+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete v.children),r.a.createElement(O,Object(o.a)({},v,{ref:g,className:N}))},t}(r.a.Component);S.propTypes=k,S.defaultProps={type:"text"};var M=S,P=a(349),T=a(75),q=a(37),B=a(146),I=a(223);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const D=r.a.lazy(()=>a.e(5).then(a.bind(null,698))),F=e=>{const t=A(Object(n.useState)(""),2),a=t[0],o=t[1],l=A(Object(n.useState)(""),2),i=l[0],s=l[1],c=A(Object(n.useState)(""),2),u=c[0],d=c[1],p=A(Object(n.useState)(!1),2),f=p[0],m=p[1],b=A(Object(n.useState)(""),2),g=b[0],v=b[1],y=A(Object(n.useState)(""),2),O=y[0],E=y[1],N=A(Object(n.useState)(""),2),w=N[0],x=N[1],C=A(Object(n.useState)(""),2),R=C[0],k=C[1];return r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},r.a.createElement(D,{outline:!0},r.a.createElement(h,{onSubmit:t=>{t.preventDefault(),(0,e.createNewBuilding)({latitude:a,longitude:i,description:u,hasClassrooms:f,iconName:g,levels:O,name:w,type:R})}},r.a.createElement(j,{row:!0,className:"text-center"},r.a.createElement("div",{className:"col-12"},r.a.createElement("h4",null,"Make a new Building"))),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"name"},"Name"),r.a.createElement(M,{required:!0,type:"text",name:"name",value:w,id:"name",placeholder:"Name...",onChange:e=>x(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"description"},"description"),r.a.createElement(M,{required:!0,type:"textarea",name:"description",id:"description",value:u,placeholder:"description...",onChange:e=>d(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"latitude"},"latitude"),r.a.createElement(M,{required:!0,type:"number",name:"latitude",value:a,id:"latitude",placeholder:"latitude...",onChange:e=>o(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"longitude"},"longitude"),r.a.createElement(M,{required:!0,type:"number",name:"longitude",value:i,id:"longitude",placeholder:"longitude...",onChange:e=>s(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"type"},"Type"),r.a.createElement(M,{required:!0,type:"text",name:"type",id:"type",value:R,placeholder:"Type...",onChange:e=>k(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"iconName"},"iconName"),r.a.createElement(M,{required:!0,type:"text",name:"iconName",id:"iconName",value:g,placeholder:"iconName...",onChange:e=>v(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"levels"},"levels"),r.a.createElement(M,{required:!0,type:"number",name:"levels",id:"levels",value:O,placeholder:"levels...",onChange:e=>E(e.target.value)})),r.a.createElement(j,{row:!0},r.a.createElement(z,{for:"hasClassrooms"},"hasClassrooms"),r.a.createElement(M,{required:!0,type:"checkbox",name:"hasClassrooms",id:"hasClassrooms",value:f,placeholder:"hasClassrooms...",onChange:e=>m(e.target.value)})),r.a.createElement(P.a,null,"Submit to Firebase"))))};F.defaultProps={createNewBuilding:()=>null};t.default=Object(q.compose)(Object(T.firebaseConnect)(),Object(B.b)(e=>({auth:e.firebase.auth,authError:e.auth.authError}),e=>({createNewBuilding:t=>e((e=>(t,a,n)=>{const r=(0,n.getFirestore)(),o=new r.GeoPoint(Number(e.latitude),Number(e.longitude));r.collection("buildings").add({coordinates:o,description:e.description,hasClassrooms:Boolean(e.hasClassrooms),iconName:e.iconName,levels:Number(e.levels),name:e.name,type:e.type}).then(()=>{t({type:I.a,building:e})}).catch(e=>{t({type:"CREATE_BUILDING_ERR",err:e})})})(t))})))(F)}}]);